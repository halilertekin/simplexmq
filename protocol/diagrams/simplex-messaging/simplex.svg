<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="max-width:917.600830078125px" id="mermaid-1619098539359" width="100%" height="157.203" viewBox="0 0 917.601 157.203"><style>#mermaid-1619098539359{fill:#333}#mermaid-1619098539359,#mermaid-1619098539359 svg{font-family:&quot;trebuchet ms&quot;,verdana,arial,sans-serif;font-size:16px}#mermaid-1619098539359 .label{font-family:&quot;trebuchet ms&quot;,verdana,arial,sans-serif;color:#333}#mermaid-1619098539359 span{fill:#333;color:#333}#mermaid-1619098539359 .node path,#mermaid-1619098539359 .node polygon,#mermaid-1619098539359 .node rect{fill:#ececff;stroke:#9370db;stroke-width:1px}#mermaid-1619098539359 .node .label{text-align:center}#mermaid-1619098539359 .arrowheadPath{fill:#333}#mermaid-1619098539359 .edgePath .path{stroke:#333;stroke-width:1.5px}#mermaid-1619098539359 .edgeLabel{background-color:#e8e8e8;text-align:center}#mermaid-1619098539359 .edgeLabel rect{opacity:.5;background-color:#e8e8e8;fill:#e8e8e8}#mermaid-1619098539359 .cluster rect{fill:#ffffde;stroke:#aa3;stroke-width:1px}#mermaid-1619098539359 .cluster span{color:#333}#mermaid-1619098539359:root{--mermaid-font-family:&quot;trebuchet ms&quot;,verdana,arial,sans-serif}</style><g><g class="output"><g class="clusters"><g style="opacity:1" id="flowchart-subGraph0-403" class="cluster" transform="translate(440.8004150390625,78.6014633178711)"><rect width="574.334" height="141.203" x="-287.167" y="-70.601"/><g id="mermaid-1619098539359Text" class="label"><g transform="translate(0, -56.601463317871094) translate(-82.875,-9.199996948242188)"><foreignObject width="165.75" height="18.4"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">server (queue RID, SID)</div></foreignObject></g></g></g></g><g class="edgePaths"><g id="L-S-VS" class="edgePath LS-S LE-VS" style="opacity:1"><path style="fill:none" marker-end="url(#arrowhead482)" d="M75.83334350585938,81.20097351074219L114.73334503173828,81.20097351074219L153.6333465576172,81.20097351074219L179.13334655761716,81.70097351074219" class="path"/><defs><marker id="arrowhead482" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="9" refY="5" viewBox="0 0 10 10"><path style="stroke-width:1px;stroke-dasharray:1px,0" d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath"/></marker></defs></g><g id="L-VS-DB" class="edgePath LS-VS LE-DB" style="opacity:1"><path style="fill:none" marker-end="url(#arrowhead483)" d="M345.6333465576172,81.70097351074219L370.1333465576172,81.20097351074219L395.1333465576172,81.20097351074219" class="path"/><defs><marker id="arrowhead483" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="9" refY="5" viewBox="0 0 10 10"><path style="stroke-width:1px;stroke-dasharray:1px,0" d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath"/></marker></defs></g><g id="L-DB-VR" class="edgePath LS-DB LE-VR" style="opacity:1"><path style="fill:none" marker-end="url(#arrowhead484)" d="M467.9341278076172,81.20097351074219L492.9341278076172,81.20097351074219L518.4341278076172,81.70097351074219" class="path"/><defs><marker id="arrowhead484" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="9" refY="5" viewBox="0 0 10 10"><path style="stroke-width:1px;stroke-dasharray:1px,0" d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath"/></marker></defs></g><g id="L-R-VR" class="edgePath LS-R LE-VR" style="opacity:1"><path style="fill:none" marker-end="url(#arrowhead485)" d="M824.8508148193359,92.39981432441061L776.4091491699219,105.20195007324219L727.9674835205078,105.20195007324219L694.8952831342032,98.84534376577363" class="path"/><defs><marker id="arrowhead485" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="9" refY="5" viewBox="0 0 10 10"><path style="stroke-width:1px;stroke-dasharray:1px,0" d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath"/></marker></defs></g><g id="L-VR-R" class="edgePath LS-VR LE-R" style="opacity:1"><path style="fill:none" marker-end="url(#arrowhead486)" d="M696.4805028579143,67.72704270313326L727.9674835205078,62.0009765625L776.4091491699219,62.0009765625L824.8508148193359,72.24226681452237" class="path"/><defs><marker id="arrowhead486" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="9" refY="5" viewBox="0 0 10 10"><path style="stroke-width:1px;stroke-dasharray:1px,0" d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath"/></marker></defs></g></g><g class="edgeLabels"><g style="opacity:1" class="edgeLabel"><g class="label" transform="translate(114.73334503173828,81.20097351074219) translate(-13.900001525878906,-9.199996948242188)"><rect width="27.8" height="18.4" rx="0" ry="0"/><foreignObject width="27.8" height="18.4"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span id="L-L-S-VS" class="edgeLabel L-LS-S' L-LE-VS">msg</span></div></foreignObject></g></g><g style="opacity:1" class="edgeLabel"><g class="label" transform="translate(0,0)"><rect width="0" height="0" rx="0" ry="0"/><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span id="L-L-VS-DB" class="edgeLabel L-LS-VS' L-LE-DB"/></div></foreignObject></g></g><g style="opacity:1" class="edgeLabel"><g class="label" transform="translate(0,0)"><rect width="0" height="0" rx="0" ry="0"/><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span id="L-L-DB-VR" class="edgeLabel L-LS-DB' L-LE-VR"/></div></foreignObject></g></g><g style="opacity:1" class="edgeLabel"><g class="label" transform="translate(776.4091491699219,105.20195007324219) translate(-21.616661071777344,-9.199996948242188)"><rect width="43.233" height="18.4" rx="0" ry="0"/><foreignObject width="43.233" height="18.4"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span id="L-L-R-VR" class="edgeLabel L-LS-R' L-LE-VR">1) sub</span></div></foreignObject></g></g><g style="opacity:1" class="edgeLabel"><g class="label" transform="translate(776.4091491699219,62.0009765625) translate(-23.441665649414062,-9.199996948242188)"><rect width="46.883" height="18.4" rx="0" ry="0"/><foreignObject width="46.883" height="18.4"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span id="L-L-VR-R" class="edgeLabel L-LS-VR' L-LE-R">2) msg</span></div></foreignObject></g></g></g><g class="nodes"><g id="flowchart-DB-396" class="node default" label-offset-y="9.201" style="opacity:1"><path d="M 0,9.201213590566582 a 36.400001525878906,9.201213590566582 0,0,0 72.80000305175781 0 a 36.400001525878906,9.201213590566582 0,0,0 -72.80000305175781 0 l 0,47.60120748705096 a 36.400001525878906,9.201213590566582 0,0,0 72.80000305175781 0 l 0,-47.60120748705096" class="label-container" transform="translate(431.5337371826172,81.20097351074219) translate(-36.400001525878906,-33.00181733409206)"/><g class="label"><g transform="translate(431.5337371826172,81.20097351074219) translate(0,0) translate(-26.400001525878906,-9.199996948242188)"><foreignObject width="52.8" height="18.4"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">storage</div></foreignObject></g></g></g><g id="flowchart-VS-391" class="node default" transform="translate(261.8833465576172,81.20097351074219)" style="opacity:1"><polygon points="9.6 0 156.9 0 166.5 -19.2 156.9 -38.4 9.6 -38.4 0 -19.2" class="label-container" transform="translate(-83.25,19.199996948242188)"/><g class="label"><g transform="translate(0,0) translate(-63.650001525878906,-9.199996948242188)"><foreignObject width="127.3" height="18.4"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">verify sender (SK)</div></foreignObject></g></g></g><g id="flowchart-VR-392" class="node default" transform="translate(610.4508056640625,81.20097351074219)" style="opacity:1"><polygon points="9.6 0 175.433 0 185.033 -19.2 175.433 -38.4 9.6 -38.4 0 -19.2" class="label-container" transform="translate(-92.51667022705078,19.199996948242188)"/><g class="label"><g transform="translate(0,0) translate(-72.91667175292969,-9.199996948242188)"><foreignObject width="145.833" height="18.4"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">verify recipient (RK)</div></foreignObject></g></g></g><g id="flowchart-S-393" class="node default" transform="translate(41.91667175292969,81.20097351074219)" style="opacity:1"><rect width="67.833" height="38.4" x="-33.917" y="-19.2" class="label-container" rx="5" ry="5"/><g class="label"><g transform="translate(0,0) translate(-23.916671752929688,-9.199996948242188)"><foreignObject width="47.833" height="18.4"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">sender</div></foreignObject></g></g></g><g id="flowchart-R-399" class="node default" transform="translate(867.2258148193359,81.20097351074219)" style="opacity:1"><rect width="84.75" height="38.4" x="-42.375" y="-19.2" class="label-container" rx="5" ry="5"/><g class="label"><g transform="translate(0,0) translate(-32.375,-9.199996948242188)"><foreignObject width="64.75" height="18.4"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">recipient</div></foreignObject></g></g></g></g></g></g></svg>