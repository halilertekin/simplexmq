<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1073pt" height="1142pt" viewBox="0 0 1073 1142.34"><g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1138.3374)"><title>SMPAgent</title><polygon fill="#fff" stroke="transparent" points="-4 4 -4 -1138.337 1069 -1138.337 1069 4 -4 4"/><g id="clust1" class="cluster"><title>clusterPersistence</title><polygon fill="none" stroke="silver" points="927 -512.737 927 -615.387 1057 -615.387 1057 -512.737 927 -512.737"/><text x="992" y="-601.487" fill="#000" font-family="arial" font-size="11" text-anchor="middle">persistence (sqlite)</text></g><g id="clust2" class="cluster"><title>clusterAgent</title><polygon fill="none" stroke="silver" points="175 -963.362 175 -1040.162 389 -1040.162 389 -963.362 175 -963.362"/><text x="282" y="-1023.562" fill="#000" font-family="arial" font-size="14" text-anchor="middle">agent threads</text></g><g id="clust4" class="cluster"><title>clusterUserTCP</title><polygon fill="none" stroke="silver" points="8 -509.375 8 -933.362 230 -933.362 230 -509.375 8 -509.375"/><text x="119" y="-916.762" fill="#000" font-family="arial" font-size="14" text-anchor="middle">1 group per user TCP connection</text></g><g id="clust5" class="cluster"><title>clusterUserTCPThreads</title><polygon fill="none" stroke="silver" points="38 -517.375 38 -610.75 222 -610.75 222 -517.375 38 -517.375"/><text x="130" y="-596.85" fill="#000" font-family="arial" font-size="11" text-anchor="middle">user TCP threads</text></g><g id="clust6" class="cluster"><title>clusterUser</title><polygon fill="none" stroke="silver" points="250 -8 250 -826.562 919 -826.562 919 -8 250 -8"/><text x="584.5" y="-809.962" fill="#000" font-family="arial" font-size="14" text-anchor="middle">1 group per user TCP connection</text></g><g id="clust7" class="cluster"><title>clusterUserInterface</title><polygon fill="none" stroke="silver" points="258 -400.375 258 -485.175 419 -485.175 419 -400.375 258 -400.375"/><text x="338.5" y="-471.275" fill="#000" font-family="arial" font-size="11" text-anchor="middle">user queues</text></g><g id="clust8" class="cluster"><title>clusterUserThreads</title><polygon fill="none" stroke="silver" points="622 -634.387 622 -793.762 865 -793.762 865 -634.387 622 -634.387"/><text x="743.5" y="-779.862" fill="#000" font-family="arial" font-size="11" text-anchor="middle">user threads</text><text x="743.5" y="-766.662" fill="#000" font-family="arial" font-size="11" text-anchor="middle">Note: `user agent` sends</text><text x="743.5" y="-753.462" fill="#000" font-family="arial" font-size="11" text-anchor="middle">all commands to `commands TBQueue`s</text><text x="743.5" y="-740.262" fill="#000" font-family="arial" font-size="11" text-anchor="middle">(invalid commands with attached responses),</text><text x="743.5" y="-727.062" fill="#000" font-family="arial" font-size="11" text-anchor="middle">and only valid commands to `server TBQueue`.</text><text x="743.5" y="-713.862" fill="#000" font-family="arial" font-size="11" text-anchor="middle">It is used to respond in correct order.</text></g><g id="clust10" class="cluster"><title>clusterClient</title><polygon fill="none" stroke="silver" points="427 -128.6 427 -482.975 812 -482.975 812 -128.6 427 -128.6"/><text x="619.5" y="-466.375" fill="#000" font-family="arial" font-size="14" text-anchor="middle">1 group per SMP client/server connection</text></g><g id="clust11" class="cluster"><title>clusterServerThreads</title><polygon fill="none" stroke="silver" points="564 -136.6 564 -229.975 758 -229.975 758 -136.6 564 -136.6"/><text x="661" y="-216.075" fill="#000" font-family="arial" font-size="11" text-anchor="middle">SMP client threads</text></g><g id="node1" class="node"><title>main</title><polygon fill="none" stroke="orange" points="382.542 -1106.25 363.271 -1134.425 324.729 -1134.425 305.458 -1106.25 324.729 -1078.075 363.271 -1078.075 382.542 -1106.25"/><text x="344" y="-1109.55" fill="#000" font-family="arial" font-size="11" text-anchor="middle">main</text><text x="344" y="-1096.35" fill="#000" font-family="arial" font-size="11" text-anchor="middle">thread</text></g><g id="node4" class="node"><title>connectClnt</title><polygon fill="none" stroke="orange" points="288.825 -989.362 262.412 -1007.362 209.588 -1007.362 183.175 -989.362 209.588 -971.362 262.412 -971.362 288.825 -989.362"/><text x="236" y="-986.062" fill="#000" font-family="arial" font-size="11" text-anchor="middle">connectClnt</text></g><g id="edge1" class="edge"><title>main-&gt;connectClnt</title><path fill="none" stroke="orange" stroke-dasharray="5 2" d="M321.6223,-1082.0307C303.5136,-1062.4318 278.0793,-1034.9044 259.6406,-1014.9484"/><polygon fill="orange" stroke="orange" points="252.701 -1007.438 262.793 -1011.729 256.094 -1011.11 259.487 -1014.783 259.487 -1014.783 259.487 -1014.783 256.094 -1011.11 256.182 -1017.837 252.701 -1007.438 252.701 -1007.438"/><text x="308.724" y="-1051.162" fill="orange" font-family="arial" font-size="10" text-anchor="middle">race</text></g><g id="node5" class="node"><title>runClnt</title><polygon fill="none" stroke="orange" points="380.502 -989.362 362.251 -1007.362 325.749 -1007.362 307.498 -989.362 325.749 -971.362 362.251 -971.362 380.502 -989.362"/><text x="344" y="-986.062" fill="#000" font-family="arial" font-size="11" text-anchor="middle">runClnt</text></g><g id="edge2" class="edge"><title>main-&gt;runClnt</title><path fill="none" stroke="orange" stroke-dasharray="5 2" d="M344,-1077.9547C344,-1059.6552 344,-1035.9253 344,-1017.631"/><polygon fill="orange" stroke="orange" points="344 -1007.57 348.5 -1017.57 344 -1012.57 344 -1017.57 344 -1017.57 344 -1017.57 344 -1012.57 339.5 -1017.57 344 -1007.57 344 -1007.57"/><text x="353.724" y="-1051.162" fill="orange" font-family="arial" font-size="10" text-anchor="middle">race</text></g><g id="node2" class="node"><title>aSock</title><polygon fill="none" stroke="#006400" points="287.862 -1124.25 160.138 -1124.25 160.138 -1088.25 287.862 -1088.25 287.862 -1124.25"/><text x="224" y="-1102.95" fill="#000" font-family="arial" font-size="11" text-anchor="middle">user agent TCP socket</text></g><g id="edge3" class="edge"><title>aSock-&gt;connectClnt</title><path fill="none" stroke="#006400" d="M225.8487,-1088.2424C227.781,-1069.421 230.8399,-1039.6253 233.0952,-1017.6565"/><polygon fill="#006400" stroke="#006400" points="234.129 -1007.583 237.584 -1017.99 233.619 -1012.557 233.108 -1017.531 233.108 -1017.531 233.108 -1017.531 233.619 -1012.557 228.632 -1017.071 234.129 -1007.583 234.129 -1007.583"/></g><g id="node3" class="node"><title>connectionsStore</title><path fill="none" stroke="#000" d="M1048.7017,-580.4228C1048.7017,-583.7287 1023.2871,-586.414 992,-586.414 960.7129,-586.414 935.2983,-583.7287 935.2983,-580.4228 935.2983,-580.4228 935.2983,-526.5021 935.2983,-526.5021 935.2983,-523.1962 960.7129,-520.5109 992,-520.5109 1023.2871,-520.5109 1048.7017,-523.1962 1048.7017,-526.5021 1048.7017,-526.5021 1048.7017,-580.4228 1048.7017,-580.4228"/><path fill="none" stroke="#000" d="M1048.7017,-580.4228C1048.7017,-577.117 1023.2871,-574.4316 992,-574.4316 960.7129,-574.4316 935.2983,-577.117 935.2983,-580.4228"/><text x="992" y="-563.362" fill="#000" font-family="arial" font-size="11" text-anchor="middle">duplex connections,</text><text x="992" y="-550.162" fill="#000" font-family="arial" font-size="11" text-anchor="middle">SMP queues,</text><text x="992" y="-536.962" fill="#000" font-family="arial" font-size="11" text-anchor="middle">recent messages</text></g><g id="node6" class="node"><title>uSock</title><polygon fill="none" stroke="#006400" points="169.534 -900.562 16.466 -900.562 16.466 -864.562 169.534 -864.562 169.534 -900.562"/><text x="93" y="-879.262" fill="#000" font-family="arial" font-size="11" text-anchor="middle">user connection TCP socket</text></g><g id="edge23" class="edge"><title>connectClnt-&gt;uSock</title><path fill="none" stroke="#006400" stroke-dasharray="5 2" d="M198.6778,-978.637C182.4066,-972.8176 163.7253,-964.4984 148.985,-953.3624 133.1431,-941.3941 119.2685,-923.9297 109.2945,-909.3413"/><polygon fill="#006400" stroke="#006400" points="103.606 -900.705 112.864 -906.58 106.356 -904.88 109.106 -909.056 109.106 -909.056 109.106 -909.056 106.356 -904.88 105.348 -911.531 103.606 -900.705 103.606 -900.705"/><text x="165.507" y="-944.362" fill="#006400" font-family="arial" font-size="10" text-anchor="middle">connect</text></g><g id="node7" class="node"><title>uRcv</title><polygon fill="none" stroke="orange" points="214.013 -553.462 193.007 -581.638 150.993 -581.638 129.987 -553.462 150.993 -525.287 193.007 -525.287 214.013 -553.462"/><text x="172" y="-556.762" fill="#000" font-family="arial" font-size="11" text-anchor="middle">user</text><text x="172" y="-543.562" fill="#000" font-family="arial" font-size="11" text-anchor="middle">receive</text></g><g id="edge24" class="edge"><title>connectClnt-&gt;uRcv</title><path fill="none" stroke="orange" stroke-dasharray="5 2" d="M237.1238,-971.0203C239.9206,-916.7089 244.541,-752.4513 208,-623.3874 204.8674,-612.323 199.8997,-600.9707 194.6434,-590.7174"/><polygon fill="orange" stroke="orange" points="189.779 -581.65 198.472 -588.335 192.143 -586.056 194.506 -590.462 194.506 -590.462 194.506 -590.462 192.143 -586.056 190.541 -592.589 189.779 -581.65 189.779 -581.65"/><text x="247.724" y="-837.562" fill="orange" font-family="arial" font-size="10" text-anchor="middle">race</text></g><g id="node8" class="node"><title>uSnd</title><polygon fill="none" stroke="orange" points="111.566 -553.462 95.283 -581.638 62.717 -581.638 46.434 -553.462 62.717 -525.287 95.283 -525.287 111.566 -553.462"/><text x="79" y="-556.762" fill="#000" font-family="arial" font-size="11" text-anchor="middle">user</text><text x="79" y="-543.562" fill="#000" font-family="arial" font-size="11" text-anchor="middle">send</text></g><g id="edge25" class="edge"><title>connectClnt-&gt;uSnd</title><path fill="none" stroke="orange" stroke-dasharray="5 2" d="M232.6954,-971.3264C227.2453,-941.3316 216.1632,-879.2768 208,-826.5624 201.0253,-781.5225 212.2627,-655.5799 180,-623.3874 161.268,-604.6963 143.493,-629.327 121,-615.3874 111.1934,-609.31 103.1361,-599.9964 96.7947,-590.4234"/><polygon fill="orange" stroke="orange" points="91.452 -581.644 100.495 -587.848 94.052 -585.916 96.651 -590.187 96.651 -590.187 96.651 -590.187 94.052 -585.916 92.807 -592.526 91.452 -581.644 91.452 -581.644"/><text x="219.724" y="-837.562" fill="orange" font-family="arial" font-size="10" text-anchor="middle">race</text></g><g id="node11" class="node"><title>uAgent</title><polygon fill="none" stroke="orange" points="715.562 -670.475 697.781 -698.65 662.219 -698.65 644.438 -670.475 662.219 -642.3 697.781 -642.3 715.562 -670.475"/><text x="680" y="-673.775" fill="#000" font-family="arial" font-size="11" text-anchor="middle">user</text><text x="680" y="-660.575" fill="#000" font-family="arial" font-size="11" text-anchor="middle">agent</text></g><g id="edge26" class="edge"><title>runClnt-&gt;uAgent</title><path fill="none" stroke="orange" stroke-dasharray="5 2" d="M363.0275,-971.304C418.9032,-918.2741 582.8091,-762.7159 650.3686,-698.5972"/><polygon fill="orange" stroke="orange" points="657.739 -691.602 653.583 -701.75 654.112 -695.044 650.485 -698.486 650.485 -698.486 650.485 -698.486 654.112 -695.044 647.388 -695.222 657.739 -691.602 657.739 -691.602"/><text x="482.724" y="-879.562" fill="orange" font-family="arial" font-size="10" text-anchor="middle">race</text></g><g id="node12" class="node"><title>uProcess</title><polygon fill="none" stroke="orange" points="849.48 -670.475 822.24 -698.65 767.76 -698.65 740.52 -670.475 767.76 -642.3 822.24 -642.3 849.48 -670.475"/><text x="795" y="-673.775" fill="#000" font-family="arial" font-size="11" text-anchor="middle">process</text><text x="795" y="-660.575" fill="#000" font-family="arial" font-size="11" text-anchor="middle">responses</text></g><g id="edge27" class="edge"><title>runClnt-&gt;uProcess</title><path fill="none" stroke="orange" stroke-dasharray="5 2" d="M375.4171,-984.2599C446.9624,-971.0733 623.6511,-929.4235 725,-826.5624 757.4412,-793.6372 776.3095,-743.0546 786.1177,-708.4539"/><polygon fill="orange" stroke="orange" points="788.762 -698.707 790.487 -709.536 787.453 -703.533 786.144 -708.358 786.144 -708.358 786.144 -708.358 787.453 -703.533 781.801 -707.18 788.762 -698.707 788.762 -698.707"/><text x="686.723" y="-879.562" fill="orange" font-family="arial" font-size="10" text-anchor="middle">race</text></g><g id="edge4" class="edge"><title>uSock-&gt;uRcv</title><path fill="none" stroke="#006400" d="M97.3599,-864.3998C109.8154,-812.5125 145.7537,-662.8 162.808,-591.7545"/><polygon fill="#006400" stroke="#006400" points="165.182 -581.864 167.224 -592.638 164.015 -586.726 162.848 -591.588 162.848 -591.588 162.848 -591.588 164.015 -586.726 158.472 -590.538 165.182 -581.864 165.182 -581.864"/></g><g id="node9" class="node"><title>uInq</title><polygon fill="none" stroke="#000" points="392.572 -449.777 347.428 -449.777 347.428 -414.573 392.572 -414.573 392.572 -408.573 410.572 -432.175 392.572 -455.777 392.572 -449.777"/><text x="379" y="-442.075" fill="#000" font-family="arial" font-size="11" text-anchor="middle">user</text><text x="379" y="-428.875" fill="#000" font-family="arial" font-size="11" text-anchor="middle">receive</text><text x="379" y="-415.675" fill="#000" font-family="arial" font-size="11" text-anchor="middle">TBQueue</text></g><g id="edge6" class="edge"><title>uRcv-&gt;uInq</title><path fill="none" stroke="#006400" d="M207.752,-544.8492C243.6388,-534.9021 299.1678,-515.8485 339,-485.175 346.5794,-479.3383 353.4481,-471.7165 359.2704,-464.0802"/><polygon fill="#006400" stroke="#006400" points="365.162 -455.872 362.986 -466.62 362.246 -459.934 359.331 -463.996 359.331 -463.996 359.331 -463.996 362.246 -459.934 355.675 -461.372 365.162 -455.872 365.162 -455.872"/></g><g id="node10" class="node"><title>uOutq</title><polygon fill="none" stroke="#000" points="329.572 -449.777 284.428 -449.777 284.428 -455.777 266.428 -432.175 284.428 -408.573 284.428 -414.573 329.572 -414.573 329.572 -449.777"/><text x="298" y="-442.075" fill="#000" font-family="arial" font-size="11" text-anchor="middle">user</text><text x="298" y="-428.875" fill="#000" font-family="arial" font-size="11" text-anchor="middle">send</text><text x="298" y="-415.675" fill="#000" font-family="arial" font-size="11" text-anchor="middle">TBQueue</text></g><g id="edge10" class="edge"><title>uRcv-&gt;uOutq</title><path fill="none" stroke="#0f0" d="M196.5932,-529.7891C216.4531,-510.6719 244.5472,-483.6285 266.1304,-462.8527"/><polygon fill="#0f0" stroke="#0f0" points="273.469 -455.789 269.385 -465.966 269.867 -459.256 266.264 -462.724 266.264 -462.724 266.264 -462.724 269.867 -459.256 263.144 -459.482 273.469 -455.789 273.469 -455.789"/></g><g id="edge5" class="edge"><title>uSnd-&gt;uSock</title><path fill="none" stroke="#006400" d="M80.2082,-581.8642C82.8558,-644.1008 89.1434,-791.9036 91.7913,-854.15"/><polygon fill="#006400" stroke="#006400" points="92.227 -864.4 87.306 -854.6 92.015 -859.404 91.802 -854.409 91.802 -854.409 91.802 -854.409 92.015 -859.404 96.298 -854.217 92.227 -864.4 92.227 -864.4"/></g><g id="edge7" class="edge"><title>uInq-&gt;uAgent</title><path fill="none" stroke="#006400" d="M396.6501,-455.9955C404.2553,-465.5484 413.5612,-476.3588 423,-485.175 495.6201,-553.0045 593.7284,-617.3782 645.1887,-649.3958"/><polygon fill="#006400" stroke="#006400" points="653.938 -654.807 643.066 -653.374 649.685 -652.177 645.433 -649.547 645.433 -649.547 645.433 -649.547 649.685 -652.177 647.8 -645.72 653.938 -654.807 653.938 -654.807"/></g><g id="edge9" class="edge"><title>uOutq-&gt;uSnd</title><path fill="none" stroke="#006400" d="M266.3235,-441.7172C229.3231,-453.7931 167.2864,-476.9926 121,-509.375 115.6566,-513.1132 110.4497,-517.6098 105.6237,-522.2822"/><polygon fill="#006400" stroke="#006400" points="98.389 -529.686 102.16 -519.389 101.883 -526.11 105.378 -522.534 105.378 -522.534 105.378 -522.534 101.883 -526.11 108.596 -525.679 98.389 -529.686 98.389 -529.686"/></g><g id="edge21" class="edge"><title>uAgent-&gt;connectionsStore</title><path fill="none" stroke="#800" d="M711.4852,-644.5965C717.9336,-640.4916 724.9231,-636.8075 732,-634.3874 772.2162,-620.6351 884.2913,-641.9405 923,-624.3874 937.8878,-617.6364 951.2411,-606.1048 962.1439,-594.2794"/><polygon fill="#800" stroke="#800" points="703.07 -650.376 708.766 -641.005 707.192 -647.545 711.313 -644.715 711.313 -644.715 711.313 -644.715 707.192 -647.545 713.861 -648.424 703.07 -650.376 703.07 -650.376"/><polygon fill="#800" stroke="#800" points="968.946 -586.513 965.742 -597.001 965.652 -590.274 962.357 -594.036 962.357 -594.036 962.357 -594.036 965.652 -590.274 958.972 -591.071 968.946 -586.513 968.946 -586.513"/></g><g id="edge11" class="edge"><title>uAgent-&gt;uOutq</title><path fill="none" stroke="#0f0" d="M647.3434,-665.3697C591.4951,-656.2129 480.4257,-636.0193 447,-615.3874 386.1848,-577.8496 339.1057,-506.4848 315.2537,-464.7649"/><polygon fill="#0f0" stroke="#0f0" points="310.245 -455.835 319.062 -462.355 312.691 -460.196 315.137 -464.557 315.137 -464.557 315.137 -464.557 312.691 -460.196 311.212 -466.758 310.245 -455.835 310.245 -455.835"/></g><g id="node14" class="node"><title>runClient</title><polygon fill="none" stroke="orange" points="722.724 -432.175 701.362 -450.175 658.638 -450.175 637.276 -432.175 658.638 -414.175 701.362 -414.175 722.724 -432.175"/><text x="680" y="-428.875" fill="#000" font-family="arial" font-size="11" text-anchor="middle">runClient</text></g><g id="edge30" class="edge"><title>uAgent-&gt;runClient</title><path fill="none" stroke="orange" stroke-dasharray="5 2" d="M680,-642.203C680,-596.3198 680,-506.1699 680,-460.3495"/><polygon fill="orange" stroke="orange" points="680 -450.23 684.5 -460.23 680 -455.23 680 -460.23 680 -460.23 680 -460.23 680 -455.23 675.5 -460.23 680 -450.23 680 -450.23"/><text x="688.333" y="-550.462" fill="orange" font-family="arial" font-size="10" text-anchor="middle">fork</text></g><g id="node15" class="node"><title>sOutq</title><polygon fill="none" stroke="#000" points="785.572 -444.175 740.428 -444.175 740.428 -420.175 785.572 -420.175 785.572 -414.175 803.572 -432.175 785.572 -450.175 785.572 -444.175"/><text x="772" y="-435.475" fill="#000" font-family="arial" font-size="11" text-anchor="middle">srv send</text><text x="772" y="-422.275" fill="#000" font-family="arial" font-size="11" text-anchor="middle">TBQueue</text></g><g id="edge14" class="edge"><title>uAgent-&gt;sOutq</title><path fill="none" stroke="#00f" d="M691.5879,-642.1215C694.8569,-633.6035 698.2645,-624.1836 701,-615.3874 716.6229,-565.151 708.4801,-548.8178 729,-500.375 735.1504,-485.8551 744.2149,-470.9073 752.4376,-458.7199"/><polygon fill="#00f" stroke="#00f" points="758.223 -450.379 756.221 -461.161 755.373 -454.488 752.523 -458.596 752.523 -458.596 752.523 -458.596 755.373 -454.488 748.826 -456.032 758.223 -450.379 758.223 -450.379"/></g><g id="node19" class="node"><title>userState</title><polygon fill="none" stroke="#000" points="890.784 -482.576 887.784 -486.576 866.784 -486.576 863.784 -482.576 821.216 -482.576 821.216 -381.774 890.784 -381.774 890.784 -482.576"/><text x="856" y="-468.475" fill="#000" font-family="arial" font-size="11" text-anchor="middle">connected</text><text x="856" y="-455.275" fill="#000" font-family="arial" font-size="11" text-anchor="middle">servers,</text><text x="856" y="-442.075" fill="#000" font-family="arial" font-size="11" text-anchor="middle">subscribed</text><text x="856" y="-428.875" fill="#000" font-family="arial" font-size="11" text-anchor="middle">queues,</text><text x="856" y="-415.675" fill="#000" font-family="arial" font-size="11" text-anchor="middle">sent</text><text x="856" y="-402.475" fill="#000" font-family="arial" font-size="11" text-anchor="middle">commands</text><text x="856" y="-389.275" fill="#000" font-family="arial" font-size="11" text-anchor="middle">(STM)</text></g><g id="edge19" class="edge"><title>uAgent-&gt;userState</title><path fill="none" stroke="#f88" d="M705.4839,-635.9704C734.1546,-597.1508 781.1323,-533.5442 814.9848,-487.7086"/><polygon fill="#f88" stroke="#f88" points="699.508 -644.062 701.829 -633.345 702.478 -640.04 705.448 -636.018 705.448 -636.018 705.448 -636.018 702.478 -640.04 709.068 -638.692 699.508 -644.062 699.508 -644.062"/><polygon fill="#f88" stroke="#f88" points="820.934 -479.654 818.612 -490.371 817.963 -483.676 814.993 -487.698 814.993 -487.698 814.993 -487.698 817.963 -483.676 811.373 -485.024 820.934 -479.654 820.934 -479.654"/></g><g id="edge22" class="edge"><title>uProcess-&gt;connectionsStore</title><path fill="none" stroke="#800" d="M851.5097,-660.0083C892.5279,-651.4468 943.5859,-638.4864 960,-624.3874 968.7086,-616.9071 975.1618,-606.5771 979.8973,-596.1137"/><polygon fill="#800" stroke="#800" points="841.593 -662.034 850.49 -655.624 846.492 -661.034 851.391 -660.033 851.391 -660.033 851.391 -660.033 846.492 -661.034 852.292 -664.441 841.593 -662.034 841.593 -662.034"/><polygon fill="#800" stroke="#800" points="983.779 -586.545 984.19 -597.503 981.899 -591.178 980.02 -595.812 980.02 -595.812 980.02 -595.812 981.899 -591.178 975.85 -594.12 983.779 -586.545 983.779 -586.545"/></g><g id="edge8" class="edge"><title>uProcess-&gt;uOutq</title><path fill="none" stroke="#006400" d="M782.4156,-642.109C763.1961,-600.1829 726.1195,-524.9349 701,-509.375 632.2716,-466.8022 409.1254,-523.6095 338,-485.175 329.0427,-480.3347 321.505,-472.5258 315.4734,-464.3728"/><polygon fill="#006400" stroke="#006400" points="309.737 -455.862 319.058 -461.639 312.531 -460.008 315.326 -464.154 315.326 -464.154 315.326 -464.154 312.531 -460.008 311.595 -466.669 309.737 -455.862 309.737 -455.862"/></g><g id="edge15" class="edge"><title>uProcess-&gt;sOutq</title><path fill="none" stroke="#00f" d="M792.2713,-642.203C787.8428,-596.3198 779.1418,-506.1699 774.7193,-460.3495"/><polygon fill="#00f" stroke="#00f" points="773.743 -450.23 779.183 -459.751 774.223 -455.207 774.703 -460.183 774.703 -460.183 774.703 -460.183 774.223 -455.207 770.224 -460.616 773.743 -450.23 773.743 -450.23"/></g><g id="edge20" class="edge"><title>uProcess-&gt;userState</title><path fill="none" stroke="#f88" d="M804.7422,-632.4164C814.4107,-594.6461 829.3748,-536.188 840.6433,-492.1666"/><polygon fill="#f88" stroke="#f88" points="802.237 -642.203 800.357 -631.399 803.477 -637.359 804.717 -632.515 804.717 -632.515 804.717 -632.515 803.477 -637.359 809.076 -633.631 802.237 -642.203 802.237 -642.203"/><polygon fill="#f88" stroke="#f88" points="843.133 -482.442 845.012 -493.245 841.893 -487.285 840.653 -492.129 840.653 -492.129 840.653 -492.129 841.893 -487.285 836.293 -491.013 843.133 -482.442 843.133 -482.442"/></g><g id="node13" class="node"><title>uRespq</title><polygon fill="none" stroke="#000" points="744.572 -57.402 699.428 -57.402 699.428 -22.198 744.572 -22.198 744.572 -16.198 762.572 -39.8 744.572 -63.402 744.572 -57.402"/><text x="731" y="-49.7" fill="#000" font-family="arial" font-size="11" text-anchor="middle">user</text><text x="731" y="-36.5" fill="#000" font-family="arial" font-size="11" text-anchor="middle">SMP</text><text x="731" y="-23.3" fill="#000" font-family="arial" font-size="11" text-anchor="middle">TBQueue</text></g><g id="edge29" class="edge"><title>uRespq-&gt;uProcess</title><path fill="none" stroke="#000" d="M762.5896,-44.0035C813.9769,-51.7359 910,-70.3048 910,-101.1 910,-553.4624 910,-553.4624 910,-553.4624 910,-594.8589 872.935,-626.9659 840.89,-646.9888"/><polygon fill="#000" stroke="#000" points="832.02 -652.313 838.278 -643.308 836.307 -649.74 840.594 -647.167 840.594 -647.167 840.594 -647.167 836.307 -649.74 842.91 -651.025 832.02 -652.313 832.02 -652.313"/></g><g id="node17" class="node"><title>sAgent</title><polygon fill="none" stroke="orange" points="656.013 -172.688 635.007 -200.863 592.993 -200.863 571.987 -172.688 592.993 -144.512 635.007 -144.512 656.013 -172.688"/><text x="614" y="-175.988" fill="#000" font-family="arial" font-size="11" text-anchor="middle">server</text><text x="614" y="-162.787" fill="#000" font-family="arial" font-size="11" text-anchor="middle">receive</text></g><g id="edge12" class="edge"><title>runClient-&gt;sAgent</title><path fill="none" stroke="orange" stroke-dasharray="5 2" d="M663.5617,-414.1714C650.0082,-397.4105 633,-371.0774 633,-344.475 633,-344.475 633,-344.475 633,-257.475 633,-242.0587 629.9721,-225.439 626.3339,-211.0334"/><polygon fill="orange" stroke="orange" points="623.611 -200.984 630.57 -209.459 624.919 -205.81 626.226 -210.636 626.226 -210.636 626.226 -210.636 624.919 -205.81 621.883 -211.813 623.611 -200.984 623.611 -200.984"/><text x="642.723" y="-297.975" fill="orange" font-family="arial" font-size="10" text-anchor="middle">race</text></g><g id="node18" class="node"><title>sSnd</title><polygon fill="none" stroke="orange" points="750.022 -172.688 731.011 -200.863 692.989 -200.863 673.978 -172.688 692.989 -144.512 731.011 -144.512 750.022 -172.688"/><text x="712" y="-175.988" fill="#000" font-family="arial" font-size="11" text-anchor="middle">server</text><text x="712" y="-162.787" fill="#000" font-family="arial" font-size="11" text-anchor="middle">send</text></g><g id="edge13" class="edge"><title>runClient-&gt;sSnd</title><path fill="none" stroke="orange" stroke-dasharray="5 2" d="M684.2567,-414.1504C688.048,-396.5013 693,-368.7944 693,-344.475 693,-344.475 693,-344.475 693,-257.475 693,-242.0587 696.0279,-225.439 699.6661,-211.0334"/><polygon fill="orange" stroke="orange" points="702.389 -200.984 704.117 -211.813 701.081 -205.81 699.774 -210.636 699.774 -210.636 699.774 -210.636 701.081 -205.81 695.43 -209.459 702.389 -200.984 702.389 -200.984"/><text x="702.723" y="-297.975" fill="orange" font-family="arial" font-size="10" text-anchor="middle">race</text></g><g id="edge16" class="edge"><title>sOutq-&gt;sSnd</title><path fill="none" stroke="#00f" d="M767.4159,-414.1688C763.3329,-396.5332 758,-368.8362 758,-344.475 758,-344.475 758,-344.475 758,-257.475 758,-238.8558 749.3238,-220.4171 739.5075,-205.5139"/><polygon fill="#00f" stroke="#00f" points="733.653 -197.173 743.081 -202.773 736.526 -201.266 739.398 -205.358 739.398 -205.358 739.398 -205.358 736.526 -201.266 735.715 -207.943 733.653 -197.173 733.653 -197.173"/></g><g id="node16" class="node"><title>sSock</title><polygon fill="none" stroke="#00f" points="619.201 -450.175 434.799 -450.175 434.799 -414.175 619.201 -414.175 619.201 -450.175"/><text x="527" y="-428.875" fill="#000" font-family="arial" font-size="11" text-anchor="middle">SMP client connection TCP socket</text></g><g id="edge18" class="edge"><title>sSock-&gt;sAgent</title><path fill="none" stroke="#00f" d="M533.3267,-413.9457C538.8538,-396.3776 546,-368.9339 546,-344.475 546,-344.475 546,-344.475 546,-257.475 546,-234.2863 561.6699,-213.8223 577.9653,-198.8106"/><polygon fill="#00f" stroke="#00f" points="585.949 -191.891 581.34 -201.841 582.171 -195.166 578.392 -198.441 578.392 -198.441 578.392 -198.441 582.171 -195.166 575.445 -195.04 585.949 -191.891 585.949 -191.891"/></g><g id="edge28" class="edge"><title>sAgent-&gt;uRespq</title><path fill="none" stroke="#000" d="M636.8365,-146.75C655.8728,-125.1288 683.0563,-94.254 703.3269,-71.2308"/><polygon fill="#000" stroke="#000" points="710.184 -63.443 706.953 -73.922 706.88 -67.195 703.576 -70.948 703.576 -70.948 703.576 -70.948 706.88 -67.195 700.198 -67.975 710.184 -63.443 710.184 -63.443"/></g><g id="edge17" class="edge"><title>sSnd-&gt;sSock</title><path fill="none" stroke="#00f" d="M693.7955,-200.8992C685.9738,-211.2174 676.0767,-222.2439 665,-229.975 634.5137,-251.2531 586,-220.2974 586,-257.475 586,-344.475 586,-344.475 586,-344.475 586,-368.2876 570.8403,-390.4932 555.8897,-406.6024"/><polygon fill="#00f" stroke="#00f" points="548.634 -414.001 552.423 -403.711 552.135 -410.431 555.636 -406.861 555.636 -406.861 555.636 -406.861 552.135 -410.431 558.849 -410.012 548.634 -414.001 548.634 -414.001"/></g></g></svg>